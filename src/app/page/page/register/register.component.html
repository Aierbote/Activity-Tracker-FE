<div class="sfondo">
    <div class="overlay"></div>
   <div class="container-form">
      <div class="container">
         <header>
          <span>Registrati</span>
        
          <br>
          <img src="https://www.tnt-endourology.com/wp-content/uploads/2016/05/icona2.png"width="150" height="150">
       
         </header>
         
         <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
          
          <br>
          <label for="fileInput" class="custom-file-upload" pattern="^.+\.(jpg|jpeg|png|gif)$"          >
            Seleziona foto
        </label>
        <br> <br>
        <div class="card" style="display: flex;" *ngIf="Validform">
          <i class="pi pi-check" style="color: slateblue; margin-right: 5px;"></i>
          <span>Form inviato correttamente</span>
        </div>

     
        <input type="file" id="fileInput" style="display:none;">
            <div class="input-field">
               <input class="name" type="text" formControlName="name" placeholder="Nome (Obbligatorio)">
            </div>
            <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted &&  userForm.get('name')?.value === ''">
              <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
              <p-messages /> 
              <span style="margin-left: 4px; font-size: 13px;">Il campo è obbligatorio</span>
            </div>
            <div class="input-field">
              <input class="surname" type="text" formControlName="surname" placeholder="Cognome (Obbligatorio)">
            </div>
            <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted &&  userForm.get('surname')?.value === ''">
              <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
              <p-messages /> 
              <span style="margin-left: 4px; font-size: 13px;">Il campo è obbligatorio</span>
            </div>
            <div class="input-field">
              <input class="codfisc" type="text" formControlName="TaxIDcode" pattern="^[A-Za-z]{6}[0-9]{2}[A-Za-z]{1}[0-9]{2}[A-Za-z]{1}[0-9]{3}[A-Za-z]{1}$" placeholder="Codice fiscale (Obbligatorio)">
            </div>
            <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted && userForm.get('TaxIDcode')?.errors?.['pattern']">
            <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
              <p-messages /> 
              <span style="margin-left: 4px; font-size: 13px;">Il codice fiscale non è valido</span>
            </div>
            <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted && userForm.get('TaxIDcode')?.value === '' ">
              <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
              <p-messages /> 
              <span style="margin-left: 4px; font-size: 13px;">Il campo è obbligatorio</span>
            </div>
            <div class="input-field">
              <input class="email" type="text" formControlName="email" placeholder="Email (Obbligatorio)"   pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$">
            </div>
            <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted && userForm.get('email')?.errors?.['pattern']">
              <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
                <p-messages /> 
                <span style="margin-left: 4px; font-size: 13px;">L'email non è valida</span>
              </div>
              
              <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted && userForm.get('email')?.value === '' ">
                <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
                <p-messages /> 
                <span style="margin-left: 4px; font-size: 13px;">Il campo è obbligatorio</span>
              </div>
            <div class="input-field">
              <input class="pswd" type="password" formControlName="pswd" placeholder="Password (Obbligatorio)" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$"  #passwordInput>
           </div>
           <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted && userForm.get('pswd')?.errors?.['pattern']">
            <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
              <p-messages /> 
              <span style="margin-left: 4px; font-size: 13px;">Password poco sicura</span>
            </div>
           <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;" *ngIf="formSubmitted && userForm.get('pswd')?.value === '' ">
            <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
            <p-messages /> 
            <span style="margin-left: 4px; font-size: 13px;">Il campo è obbligatorio</span>
          </div>
            <div class="input-field">
              <input class="pswqc" type="password" formControlName="pswdc" placeholder="Conferma password (Obbligatorio)" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$" #confirmPasswordInput>
            </div>
            <ng-container *ngIf="formSubmitted && userForm.get('pswdc')?.value === ''; ">
              <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;">
                <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
                <p-messages /> 
                <span style="margin-left: 4px; font-size: 13px;">Il campo è obbligatorio</span>
              </div>
            </ng-container>
            <ng-container *ngIf="formSubmitted 
            && userForm.get('pswdc')?.value 
            && userForm.get('pswd')?.value 
            && userForm.get('pswdc')?.value != userForm.get('pswd')?.value">
          <div class="card" style="display: flex; padding: 4px; background-color: #FFC4C4; margin-top: -10px;">
            <i class="pi pi-exclamation-triangle" style="font-size: 16px"></i>
            <p-messages></p-messages> 
            <span style="margin-left: 4px; font-size: 13px;">Le password non corrispondono</span>
          </div>
        </ng-container>
        
            
            <div style="display: flex; align-items: center;">
              <input type="checkbox" style="width: 50px; height: 15px; margin-left: -17px;" (click)="togglePasswordVisibility()">
              <span style="font-size: 14px; margin-left: -15px;">Mostra/Nascondi password</span>
               </div>
               
            <br>

               <button 
               pButton 
               pRipple 
               label="Invia" 
               
             
               class="p-button" style="background-color: #A1C1D9; border: none; width: 70%; margin-bottom: 10px; cursor: pointer;">
               
           </button>
           
           <br> 
          <span>Torna alla home</span>
         </form>
      </div>
    </div>
    </div>
